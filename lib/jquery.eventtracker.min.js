/* jQuery EventTracker v0.2.3 */
!function(t){t.fn.trackEvents=function(n){var a=t.fn.trackEvents;return t.fn.trackEvents.params=t.extend({delay:250,cssClassForDefaultEvent:"defaultEnable"},n),n=t.fn.trackEvents.params,window._gaq?this.each(function(){var n=t(this),e=a.popDataOptions(n),c=a.getDataEvents(n);_.each(c,function(t){"A"==n.get(0).tagName?n.click(a.link.generateStrategy(n,t,e)):"FORM"==n.get(0).tagName&&n.submit(a.form.generateStrategy(n,t,e))})}):void(t.fn.trackEvents.disabled=!0)},t.fn.trackEvents.form={},t.fn.trackEvents.form.generateStrategy=function(n,a,e){return t.fn.trackEvents.generateStrategy({element:n,event:a,options:e,action:"submit",callback:function(){t.fn.trackEvents.form.callback(n)}})},t.fn.trackEvents.form.callback=function(n){t.fn.trackEvents.callback(n,"submit",t.fn.trackEvents.form)},t.fn.trackEvents.link={},t.fn.trackEvents.link.generateStrategy=function(n,a,e){return t.fn.trackEvents.generateStrategy({element:n,event:a,options:e,action:"click",callback:function(){t.fn.trackEvents.link.callback(n)}})},t.fn.trackEvents.link.callback=function(n){t.fn.trackEvents.callback(n,"click",t.fn.trackEvents.link)},t.fn.trackEvents.link.defaultAction=function(){if(t.fn.trackEvents.hasDefaultEvent(t(this))){var n=t(this).attr("href");t.fn.trackEvents.locationHref(n)}},t.fn.trackEvents.link.defaultAction.action="defaultAction",t.fn.trackEvents.link.hasDefaultAction=function(n){return t.fn.trackEvents.hasDefaultAction(n,"click")},t.fn.trackEvents.generateStrategy=function(n){var a=t.fn.trackEvents,e=a.params,c=function(r){var f=n.event,i=t.fn.trackEvents.keyToTagAttr(n.event.key);f.content=t(this).attr(i),a.notifyAnalytics(f),n.options.javaScriptOnly||(r.preventDefault(),r.stopImmediatePropagation(),n.element.addClass(e.cssClassForDefaultEvent),n.element.off(n.action,c),setTimeout(n.callback,e.delay))};return c},t.fn.trackEvents.callback=function(n,a,e){t.fn.trackEvents;e.defaultAction&&!e.hasDefaultAction(n)&&n[a](e.defaultAction),n.trigger(a)},t.fn.trackEvents.hasDefaultAction=function(n,a){var e=t._data(n.get(0),"events");return e?_.any(e[a],function(t){return"defaultAction"==t.handler.action}):!1},t.fn.trackEvents.locationHref=function(t){document.location.href=t},t.fn.trackEvents.hasDefaultEvent=function(n){var a=t.fn.trackEvents.params;return n.hasClass(a.cssClassForDefaultEvent)},t.fn.trackEvents.notifyAnalytics=function(t){var n=t.category.toString(),a=t.action.toString(),e=void 0===t.content?"":t.content.toString();window._gaq&&window._gaq.push(["_trackEvent",n,a,e])},t.fn.trackEvents.getDataEvents=function(n){var a=n.data(),e=t.fn.trackEvents,c=_.filter(_.keys(a),function(t){return!!t.match(/^event/)});return _.map(c,function(t){var n=t.split(/[aA]ction/),c=e.whitespace(n[0].replace(/^event/,"")),r=e.whitespace(n[1]);return{key:t,category:c,action:r,content:a[t]}})},t.fn.trackEvents.popDataOptions=function(n){var a=n.data(),e=(t.fn.trackEvents,{javaScriptOnly:"eventJavascriptOnly"});return _.tap({},function(t){_.each(_.keys(e),function(c){var r=e[c],f=a[r];t[c]=f?f:null,n.removeData(r)})})},t.fn.trackEvents.whitespace=function(t){return t.replace(/([A-Z])/g," $1").replace(/^\s+/,"").replace(/\s+$/,"")},t.fn.trackEvents.keyToTagAttr=function(t){return"data-"+t.replace(/([A-Z])/g,"-$1").toLowerCase()}}(jQuery);